import{select,className}from"../settings.js";import Component from"./component.js";class Popup extends Component{constructor(e,s,t){super(select.wrapperOf.popup,e),this.closingSelectors=t,this.closePopup=this.closePopup.bind(this),document.addEventListener(s,async e=>{e=await this.getData(e);this.render(e),this.initActions()})}getData(){return{}}render(e){super.render(e),this.addPopupChild(className.popupShell),this.addPopupChild(className.popupClosingCross)}addPopupChild(e){const s=document.createElement("div");s.classList.add(e),this.wrapper.appendChild(s)}initActions(){this.closingElements=this.wrapper.querySelectorAll(this.closingSelectors);for(const e of this.closingElements)e.addEventListener("click",this.closePopup)}closePopup(){for(const e of this.closingElements)e&&e.removeEventListener("click",this.closePopup);this.wrapper.innerHTML=""}}export default Popup;